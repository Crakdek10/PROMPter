<div class="flex w-full" [ngClass]="{'justify-end': !isAi, 'justify-start': isAi}">
  <div class="max-w-[85%] rounded-2xl px-4 py-3 text-sm leading-relaxed"
       [ngClass]="{
       'bg-primary text-primary-foreground rounded-br-none': !isAi,
       'bg-background text-text-main rounded-bl-none border border-border': isAi
     }">

  <div class="mb-1 text-xs opacity-70 font-semibold select-none">
      {{ isAi ? 'PROMPTer AI' : 'TÃº' }}
    </div>

    <div class="whitespace-pre-wrap break-words">
      {{ message.text }}
    </div>

    @if(isAi) {
      <div class="mt-2 flex gap-2 opacity-50 hover:opacity-100 transition-opacity">
        <button class="hover:text-white cursor-pointer" title="Copiar">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
          </svg>
        </button>
      </div>
    }
  </div>
</div>
